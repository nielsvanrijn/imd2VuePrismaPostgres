<div class="py-12 bg-gray-100 h-w-content">
	<ng-container *ngIf="userService.user$ | async as user">
		<div class="flex mx-auto max-w-7xl">
			<div [@fadeInAnimation]="{value:'',params:{d:'250ms'}}" class="flex-1 mr-2 overflow-hidden bg-white rounded-lg shadow">
				<div class="flex flex-wrap items-center justify-between">
					<div class="px-6 py-5">
						<h3 class="text-lg font-medium leading-6 text-gray-900">
							Account Information
						</h3>
						<p class="max-w-2xl mt-1 text-sm text-gray-500">
							Personal details and profile information.
							.pipe(tap(...)) doesnt work when using async pipe
							just subscribe to BehaviorSubject AND COMPLETE IT USING take(1) or something
						</p>
					</div>
					<div class="flex-shrink-0 px-6 py-5">
						<button routerLink="/account-edit" type="button" class="inline-flex items-center px-3 py-2 text-sm font-medium leading-4 btn-secondary-colors">
							Edit profile
							<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="pen-to-square" class="w-3 h-3 ml-2 svg-inline--fa fa-pen-to-square fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M383.1 448H63.1V128h156.1l64-64H63.1C28.65 64 0 92.65 0 128v320c0 35.35 28.65 64 63.1 64h319.1c35.34 0 63.1-28.65 63.1-64l-.0039-220.1l-63.1 63.99V448zM497.9 42.19l-28.13-28.14c-18.75-18.75-49.14-18.75-67.88 0l-38.62 38.63l96.01 96.01l38.62-38.63C516.7 91.33 516.7 60.94 497.9 42.19zM147.3 274.4l-19.04 95.22c-1.678 8.396 5.725 15.8 14.12 14.12l95.23-19.04c4.646-.9297 8.912-3.213 12.26-6.562l186.8-186.8l-96.01-96.01L153.8 262.2C150.5 265.5 148.2 269.8 147.3 274.4z"></path></svg>
						</button>
					</div>
				</div>
				<div class="px-6 py-5 border-t border-gray-200">
					<dl class="grid grid-cols-2 gap-x-4 gap-y-8">
						<div class="col-span-1">
							<dt class="text-sm font-medium text-gray-500">
								Full name
							</dt>
							<dd class="mt-1 text-sm text-gray-900">
								{{ user.profile.name }}
							</dd>
						</div>
						<div class="col-span-1">
							<dt class="text-sm font-medium text-gray-500">
								Email address
							</dt>
							<dd class="mt-1 text-sm text-gray-900">
								{{ user.email }}
							</dd>
						</div>
						<div class="col-span-1">
							<dt class="text-sm font-medium text-gray-500">
								Bio
							</dt>
							<dd class="mt-1 text-sm text-gray-900">
								{{ user.profile.bio ? user.profile.bio : '-' }}
							</dd>
						</div>
						<div class="col-span-1">
							<dt class="text-sm font-medium text-gray-500">
								Active since
							</dt>
							<dd class="mt-1 text-sm text-gray-900">
								{{ moment(user.createdAt).format('DD/MM/YYYY, HH:mm') }}
								({{ moment(user.createdAt).fromNow() }})
							</dd>
						</div>
					</dl>
				</div>
			</div>
			<div class="ml-2 overflow-hidden bg-white rounded-lg shadow flex-5">
				<div class="px-6 py-5">
					<h3 class="text-lg font-medium leading-6 text-gray-900">
						Profile Checklist
					</h3>
					<p class="max-w-2xl mt-1 text-sm text-gray-500">
						Finish profile setup
					</p>
				</div>
				<div class="px-4 py-5 border-t border-gray-200">
					<nav class="flex justify-center" aria-label="Progress">
						<ol class="space-y-6">
							<li *ngFor="let step of steps; index as stepIndex;">
								<span class="flex items-start">
									<span class="relative flex items-center justify-center flex-shrink-0 w-5 h-5">
										
										<ng-container *ngIf="step.done; else second">
											<!-- Heroicon name: solid/check-circle -->
											<svg class="w-full h-full text-indigo-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
												<path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
											</svg>
										</ng-container>
										<ng-template #second>
											<ng-container *ngIf="stepIndex !== firstNotDoneIndex; else third">
												<div class="w-2 h-2 bg-gray-300 rounded-full group-hover:bg-gray-400"></div>
											</ng-container>
										</ng-template>
										<ng-template #third>
											<span class="absolute w-4 h-4 bg-indigo-200 rounded-full"></span>
											<span class="relative block w-2 h-2 bg-indigo-600 rounded-full"></span>
										</ng-template>
										
									</span>
									<span class="ml-3 text-sm font-medium text-gray-500">{{ step.name }}</span>
								</span>
							</li>
						</ol>
					</nav>
				</div>
			</div>
		</div>
	</ng-container>
</div>